/*!
 * chartjs-plugin-draggable.js
 * http://chartjs.org/
 * Version: 0.1.7
 * 
 * Copyright 2016 Jonathon Hill
 * Released under the MIT license
 * https://github.com/compwright/chartjs-plugin-draggable/blob/master/LICENSE.md
 */
!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),u=n(2),a=n(6),c=new u.ChartjsDraggablePlugin([a.DraggableAnnotationAccessor]);o.default.pluginService.register(c),e.default=c},function(t,e){t.exports=Chart},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return function(){var n=l.default.helpers.getRelativePosition(h.event,t.chart),r=Number.POSITIVE_INFINITY;return t.draggable.subject=e.map(function(e){return e.getElements(t)}).reduce(function(t,e){return t.concat(e)},[]).filter(function(t){return t.element.inRange&&t.element.getCenterPoint&&t.element.getArea}).filter(function(t){return t.element.inRange(n.x,n.y)}).reduce(function(t,e){var i=e.element.getCenterPoint(),o=l.default.helpers.distanceBetweenPoints(n,i);return o<r?(t=[e],r=o):o===r&&t.push(e),t},[]).sort(function(t,e){return t.element.getArea()-e.element.getArea()})[0],!!t.draggable.subject}}function u(t){return function(){return t.draggable.subject}}function a(t,e){return function(){return t().dispatch(e,h.event)}}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartjsDraggablePlugin=void 0;var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(1),l=r(s),f=n(3),h=n(5);e.ChartjsDraggablePlugin=function(){function t(e){i(this,t),this.accessors=e.filter(function(t){return t.isSupported()})}return c(t,[{key:"afterInit",value:function(t){t.draggable={};var e=u(t);(0,h.select)(t.chart.canvas).call((0,f.drag)().container(t.chart.canvas).filter(o(t,this.accessors)).subject(e).on("start",a(e,"onDragStart")).on("drag",a(e,"onDrag")).on("end",a(e,"onDragEnd")))}}]),t}()},function(t,e,n){!function(t,r){r(e,n(4),n(5))}(this,function(t,e,n){"use strict";function r(){n.event.stopImmediatePropagation()}function i(t,e){var r=t.document.documentElement,i=n.select(t).on("dragstart.drag",null);e&&(i.on("click.drag",s,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function o(t,e,n,r,i,o,u,a,c,s){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=s}function u(){return!n.event.button}function a(){return this.parentNode}function c(t){return null==t?{x:n.event.x,y:n.event.y}:t}var s=function(){n.event.preventDefault(),n.event.stopImmediatePropagation()},l=function(t){var e=t.document.documentElement,r=n.select(t).on("dragstart.drag",s,!0);"onselectstart"in e?r.on("selectstart.drag",s,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},f=function(t){return function(){return t}};o.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var h=function(){function t(t){t.on("mousedown.drag",h).on("touchstart.drag",v).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",d).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){if(!b&&w.apply(this,arguments)){var t=_("mouse",x.apply(this,arguments),n.mouse,this,arguments);t&&(n.select(n.event.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),l(n.event.view),r(),m=!1,t("start"))}}function p(){s(),m=!0,E.mouse("drag")}function g(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null),i(n.event.view,m),s(),E.mouse("end")}function v(){if(w.apply(this,arguments)){var t,e,i=n.event.changedTouches,o=x.apply(this,arguments),u=i.length;for(t=0;t<u;++t)(e=_(i[t].identifier,o,n.touch,this,arguments))&&(r(),e("start"))}}function y(){var t,e,r=n.event.changedTouches,i=r.length;for(t=0;t<i;++t)(e=E[r[t].identifier])&&(s(),e("drag"))}function d(){var t,e,i=n.event.changedTouches,o=i.length;for(b&&clearTimeout(b),b=setTimeout(function(){b=null},500),t=0;t<o;++t)(e=E[i[t].identifier])&&(r(),e("end"))}function _(e,r,i,u,a){var c,s,l,f=i(r,e),h=A.copy();if(n.customEvent(new o(t,"beforestart",c,e,S,f[0],f[1],0,0,h),function(){return null!=(n.event.subject=c=P.apply(u,a))&&(s=c.x-f[0]||0,l=c.y-f[1]||0,!0)}))return function p(g){var v,y=f;switch(g){case"start":E[e]=p,v=S++;break;case"end":delete E[e],--S;case"drag":f=i(r,e),v=S}n.customEvent(new o(t,g,c,e,v,f[0]+s,f[1]+l,f[0]-y[0],f[1]-y[1],h),h.apply,h,[g,u,a])}}var m,b,w=u,x=a,P=c,E={},A=e.dispatch("start","drag","end"),S=0;return t.filter=function(e){return arguments.length?(w="function"==typeof e?e:f(!!e),t):w},t.container=function(e){return arguments.length?(x="function"==typeof e?e:f(e),t):x},t.subject=function(e){return arguments.length?(P="function"==typeof e?e:f(e),t):P},t.on=function(){var e=A.on.apply(A,arguments);return e===A?t:e},t};t.drag=h,t.dragDisable=l,t.dragEnable=i,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(){for(var t,e=0,r=arguments.length,i={};e<r;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new n(i)}function n(t){this._=t}function r(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function i(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function o(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=u,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var u={value:function(){}};n.prototype=e.prototype={constructor:n,on:function(t,e){var n,u=this._,a=r(t+"",u),c=-1,s=a.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++c<s;)if(n=(t=a[c]).type)u[n]=o(u[n],t.name,e);else if(null==e)for(n in u)u[n]=o(u[n],t.name,null);return this}for(;++c<s;)if((n=(t=a[c]).type)&&(n=i(u[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new n(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},t.dispatch=e,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===W&&e.documentElement.namespaceURI===W?e.createElement(t):e.createElementNS(n,t)}}function n(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function r(){return new i}function i(){this._="@"+(++nt).toString(36)}function o(t,e,n){return t=u(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function u(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function a(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function c(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function s(t,e,n){var r=at.hasOwnProperty(t.type)?o:u;return function(i,o,u){var a,c=this.__on,s=r(e,o,u);if(c)for(var l=0,f=c.length;l<f;++l)if((a=c[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=n),void(a.value=e);this.addEventListener(t.type,s,n),a={type:t.type,name:t.name,value:e,listener:s,capture:n},c?c.push(a):this.__on=[a]}}function l(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}}function f(){}function h(){return[]}function p(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function g(t,e,n,r,i,o){for(var u,a=0,c=e.length,s=o.length;a<s;++a)(u=e[a])?(u.__data__=o[a],r[a]=u):n[a]=new p(t,o[a]);for(;a<c;++a)(u=e[a])&&(i[a]=u)}function v(t,e,n,r,i,o,u){var a,c,s,l={},f=e.length,h=o.length,g=new Array(f);for(a=0;a<f;++a)(c=e[a])&&(g[a]=s=wt+u.call(c,c.__data__,a,e),s in l?i[a]=c:l[s]=c);for(a=0;a<h;++a)s=wt+u.call(t,o[a],a,o),(c=l[s])?(r[a]=c,c.__data__=o[a],l[s]=null):n[a]=new p(t,o[a]);for(a=0;a<f;++a)(c=e[a])&&l[g[a]]===c&&(i[a]=c)}function y(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function d(t){return function(){this.removeAttribute(t)}}function _(t){return function(){this.removeAttributeNS(t.space,t.local)}}function m(t,e){return function(){this.setAttribute(t,e)}}function b(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function w(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function P(t){return function(){this.style.removeProperty(t)}}function E(t,e,n){return function(){this.style.setProperty(t,e,n)}}function A(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function S(t){return function(){delete this[t]}}function M(t,e){return function(){this[t]=e}}function O(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function j(t){return t.trim().split(/^|\s+/)}function D(t){return t.classList||new k(t)}function k(t){this._node=t,this._names=j(t.getAttribute("class")||"")}function T(t,e){for(var n=D(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function C(t,e){for(var n=D(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function V(t){return function(){T(this,t)}}function N(t){return function(){C(this,t)}}function I(t,e){return function(){(e.apply(this,arguments)?T:C)(this,t)}}function L(){this.textContent=""}function X(t){return function(){this.textContent=t}}function Y(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function B(){this.innerHTML=""}function F(t){return function(){this.innerHTML=t}}function R(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function q(){this.nextSibling&&this.parentNode.appendChild(this)}function z(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U(){return null}function H(){var t=this.parentNode;t&&t.removeChild(this)}function G(t,e,n){var r=Vt(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $(t,e){return function(){return G(this,t,e)}}function J(t,e){return function(){return G(this,t,e.apply(this,arguments))}}function K(t,e){this._groups=t,this._parents=e}function Q(){return new K([[document.documentElement]],Gt)}var W="http://www.w3.org/1999/xhtml",Z={svg:"http://www.w3.org/2000/svg",xhtml:W,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Z.hasOwnProperty(e)?{space:Z[e],local:t}:t},et=function(t){var r=tt(t);return(r.local?n:e)(r)},nt=0;i.prototype=r.prototype={constructor:i,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var rt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var it=document.documentElement;if(!it.matches){var ot=it.webkitMatchesSelector||it.msMatchesSelector||it.mozMatchesSelector||it.oMatchesSelector;rt=function(t){return function(){return ot.call(this,t)}}}}var ut=rt,at={};if(t.event=null,"undefined"!=typeof document){var ct=document.documentElement;"onmouseenter"in ct||(at={mouseenter:"mouseover",mouseleave:"mouseout"})}var st=function(t,e,n){var r,i,o=a(t+""),u=o.length;{if(!(arguments.length<2)){for(l=e?s:c,null==n&&(n=!1),r=0;r<u;++r)this.each(l(o[r],e,n));return this}var l=this.node().__on;if(l)for(var f,h=0,p=l.length;h<p;++h)for(r=0,f=l[h];r<u;++r)if((i=o[r]).type===f.type&&i.name===f.name)return f.value}},lt=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},ft=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},ht=function(t){var e=lt();return e.changedTouches&&(e=e.changedTouches[0]),ft(t,e)},pt=function(t){return null==t?f:function(){return this.querySelector(t)}},gt=function(t){"function"!=typeof t&&(t=pt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u,a=e[i],c=a.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=a[l])&&(u=t.call(o,o.__data__,l,a))&&("__data__"in o&&(u.__data__=o.__data__),s[l]=u);return new K(r,this._parents)},vt=function(t){return null==t?h:function(){return this.querySelectorAll(t)}},yt=function(t){"function"!=typeof t&&(t=vt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var u,a=e[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new K(r,i)},dt=function(t){"function"!=typeof t&&(t=ut(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u=e[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new K(r,this._parents)},_t=function(t){return new Array(t.length)},mt=function(){return new K(this._enter||this._groups.map(_t),this._parents)};p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var bt=function(t){return function(){return t}},wt="$",xt=function(t,e){if(!t)return p=new Array(this.size()),s=-1,this.each(function(t){p[++s]=t}),p;var n=e?v:g,r=this._parents,i=this._groups;"function"!=typeof t&&(t=bt(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],f=i[s],h=f.length,p=t.call(l,l&&l.__data__,s,r),y=p.length,d=a[s]=new Array(y),_=u[s]=new Array(y),m=c[s]=new Array(h);n(l,f,d,_,m,p,e);for(var b,w,x=0,P=0;x<y;++x)if(b=d[x]){for(x>=P&&(P=x+1);!(w=_[P])&&++P<y;);b._next=w||null}}return u=new K(u,r),u._enter=a,u._exit=c,u},Pt=function(){return new K(this._exit||this._groups.map(_t),this._parents)},Et=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=e[a],l=n[a],f=s.length,h=u[a]=new Array(f),p=0;p<f;++p)(c=s[p]||l[p])&&(h[p]=c);for(;a<r;++a)u[a]=e[a];return new K(u,this._parents)},At=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},St=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=y);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var u,a=n[o],c=a.length,s=i[o]=new Array(c),l=0;l<c;++l)(u=a[l])&&(s[l]=u);s.sort(e)}return new K(i,this._parents).order()},Mt=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Ot=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},jt=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},Dt=function(){var t=0;return this.each(function(){++t}),t},kt=function(){return!this.node()},Tt=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},Ct=function(t,e){var n=tt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?_:d:"function"==typeof e?n.local?x:w:n.local?b:m)(n,e))},Vt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Nt=function(t,e,n){var r;return arguments.length>1?this.each((null==e?P:"function"==typeof e?A:E)(t,e,null==n?"":n)):Vt(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},It=function(t,e){return arguments.length>1?this.each((null==e?S:"function"==typeof e?O:M)(t,e)):this.node()[t]};k.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Lt=function(t,e){var n=j(t+"");if(arguments.length<2){for(var r=D(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?I:e?V:N)(n,e))},Xt=function(t){return arguments.length?this.each(null==t?L:("function"==typeof t?Y:X)(t)):this.node().textContent},Yt=function(t){return arguments.length?this.each(null==t?B:("function"==typeof t?R:F)(t)):this.node().innerHTML},Bt=function(){return this.each(q)},Ft=function(){return this.each(z)},Rt=function(t){var e="function"==typeof t?t:et(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},qt=function(t,e){var n="function"==typeof t?t:et(t),r=null==e?U:"function"==typeof e?e:pt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},zt=function(){return this.each(H)},Ut=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Ht=function(t,e){return this.each(("function"==typeof e?J:$)(t,e))},Gt=[null];K.prototype=Q.prototype={constructor:K,select:gt,selectAll:yt,filter:dt,data:xt,enter:mt,exit:Pt,merge:Et,order:At,sort:St,call:Mt,nodes:Ot,node:jt,size:Dt,empty:kt,each:Tt,attr:Ct,style:Nt,property:It,classed:Lt,text:Xt,html:Yt,raise:Bt,lower:Ft,append:Rt,insert:qt,remove:zt,datum:Ut,on:st,dispatch:Ht};var $t=function(t){return"string"==typeof t?new K([[document.querySelector(t)]],[document.documentElement]):new K([[t]],Gt)},Jt=function(t){return"string"==typeof t?new K([document.querySelectorAll(t)],[document.documentElement]):new K([null==t?[]:t],Gt)},Kt=function(t,e,n){arguments.length<3&&(n=e,e=lt().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return ft(t,r);return null},Qt=function(t,e){null==e&&(e=lt().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=ft(t,e[n]);return i};t.creator=et,t.local=r,t.matcher=ut,t.mouse=ht,t.namespace=tt,t.namespaces=Z,t.select=$t,t.selectAll=Jt,t.selection=Q,t.selector=pt,t.selectorAll=vt,t.touch=Kt,t.touches=Qt,t.window=Vt,t.customEvent=l,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){(function(t){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DraggableAnnotationAccessor=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(7),c=n(9),s=n(10);e.DraggableAnnotationAccessor=function(e){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,e),u(n,null,[{key:"isSupported",value:function(){return!!t.Annotation}},{key:"getElements",value:function(t){return a.DraggableElementAccessor.getElements(t,Object.keys(t.annotation.elements).map(function(e){return t.annotation.elements[e]}),Object.keys(t.annotation.elements).map(function(e){return t.annotation.elements[e].options}),function(t){switch(t.type){case"line":return c.DraggableLineAnnotationElement;case"box":return s.DraggableBoxAnnotationElement}})}}]),n}(a.DraggableElementAccessor)}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DraggableElementAccessor=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(8);e.DraggableElementAccessor=function(){function t(){r(this,t)}return i(t,null,[{key:"isSupported",value:function(){return!0}},{key:"getElements",value:function(t,e,n,r){var i="function"==typeof r?r:function(){return r};return e.map(function(e,r){var u=i(n[r])||o.DraggableElement;return new u(t,e,n[r])}).filter(function(t,e){return!!n[e].draggable})}}]),t}()},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.DraggableElement=function(){function t(e,r,i){n(this,t),this.chart=e,this.element=r,this.config=i}return r(t,[{key:"_constrainValue",value:function(t,e){return"undefined"!=typeof t.min&&e<t.min?t.min:"undefined"!=typeof t.max&&e>t.max?t.max:e}},{key:"dispatch",value:function(t,e){"function"==typeof this[t]&&this[t](e),"function"==typeof this.config[t]&&this.config[t](e)}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DraggableLineAnnotationElement=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(8);e.DraggableLineAnnotationElement=function(t){function e(t,n,o){r(this,e);var u=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,o));return u.scale=u.chart.scales[o.scaleID],u}return o(e,t),u(e,[{key:"_getPixel",value:function(t){return this.scale.isHorizontal()?t.x:t.y}},{key:"_getValue",value:function(t){var e=this.offset||0;return this.scale.getValueForPixel(this._getPixel(t)-e)}},{key:"onDragStart",value:function(t){this.offset=this._getPixel(t)-this.scale.getPixelForValue(this.config.value)}},{key:"onDrag",value:function(t){this.config.value=this._constrainValue(this.scale,this._getValue(t)),this.chart.update(0)}},{key:"onDragEnd",value:function(t){this.offset=void 0}}]),e}(a.DraggableElement)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DraggableBoxAnnotationElement=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(8);e.DraggableBoxAnnotationElement=function(t){function e(t,n,o){r(this,e);var u=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,o));return u.xScale=u.chart.scales[o.xScaleID],u.yScale=u.chart.scales[o.yScaleID],u}return o(e,t),u(e,[{key:"_getPixel",value:function(t,e){return t[e]}},{key:"_getXMin",value:function(t){var e=this.offsetXMin||0;return this.xScale.getValueForPixel(this._getPixel(t,"x")-e)}},{key:"_getXMax",value:function(t){var e=this.offsetXMax||0;return this.xScale.getValueForPixel(this._getPixel(t,"x")-e)}},{key:"_getYMin",value:function(t){var e=this.offsetYMin||0;return this.yScale.getValueForPixel(this._getPixel(t,"y")-e)}},{key:"_getYMax",value:function(t){var e=this.offsetYMax||0;return this.yScale.getValueForPixel(this._getPixel(t,"y")-e)}},{key:"onDragStart",value:function(t){this.offsetXMin=this._getPixel(t,"x")-this.xScale.getPixelForValue(this.config.xMin),this.offsetXMax=this._getPixel(t,"x")-this.xScale.getPixelForValue(this.config.xMax),this.offsetYMin=this._getPixel(t,"y")-this.yScale.getPixelForValue(this.config.yMin),this.offsetYMax=this._getPixel(t,"y")-this.yScale.getPixelForValue(this.config.yMax)}},{key:"onDrag",value:function(t){this.config.xMin=this._constrainValue(this.xScale,this._getXMin(t)),this.config.xMax=this._constrainValue(this.xScale,this._getXMax(t)),this.config.yMin=this._constrainValue(this.yScale,this._getYMin(t)),this.config.yMax=this._constrainValue(this.yScale,this._getYMax(t)),this.chart.update(0)}},{key:"onDragEnd",value:function(t){this.offsetXMin=void 0,this.offsetXMax=void 0,this.offsetYMin=void 0,this.offsetYMax=void 0}}]),e}(a.DraggableElement)}]);